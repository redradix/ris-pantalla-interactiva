<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Semaphore</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <script src="/socket.io/socket.io.js"></script>

  <script>
    const socket = io('/admin')

    function toggleSemaphore() {
      document.getElementById('semaphore').classList.toggle('busy')
    }

    socket.on('semaphore', () => {
      toggleSemaphore()
    })

    socket.on('reload', url => {
      window.location.href = url
    })
  </script>

  <body>
    <div class="content" id="semaphore">
      <button class="semaphore-button" onclick="toggleSemaphore()">
        <svg
          width="200"
          height="192"
          viewBox="0 0 200 192"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M88 88V12C88 8.8174 89.2643 5.76515 91.5147 3.51472C93.7652 1.26428 96.8174 0 100 0C103.183 0 106.235 1.26428 108.485 3.51472C110.736 5.76515 112 8.8174 112 12V88C112 91.1826 110.736 94.2348 108.485 96.4853C106.235 98.7357 103.183 100 100 100C96.8174 100 93.7652 98.7357 91.5147 96.4853C89.2643 94.2348 88 91.1826 88 88ZM154.6 8.2C151.935 6.44957 148.683 5.82967 145.561 6.47667C142.438 7.12367 139.7 8.98458 137.95 11.65C136.2 14.3154 135.58 17.567 136.227 20.6895C136.874 23.812 138.735 26.5496 141.4 28.3C155.144 37.2277 165.634 50.359 171.305 65.7355C176.976 81.112 177.525 97.9098 172.869 113.624C168.213 129.337 158.603 143.125 145.471 152.931C132.339 162.736 116.389 168.034 100 168.034C83.611 168.034 67.6611 162.736 54.5291 152.931C41.3971 143.125 31.7866 129.337 27.131 113.624C22.4753 97.9098 23.024 81.112 28.6952 65.7355C34.3663 50.359 44.8561 37.2277 58.6 28.3C61.2654 26.5496 63.1263 23.812 63.7733 20.6895C64.4203 17.567 63.8004 14.3154 62.05 11.65C60.2996 8.98458 57.562 7.12367 54.4395 6.47667C51.317 5.82967 48.0654 6.44957 45.4 8.2C27.3444 19.9671 13.5735 37.2525 6.1388 57.4811C-1.29593 77.7096 -1.99662 99.7988 4.14112 120.458C10.2789 141.117 22.9266 159.24 40.2001 172.128C57.4736 185.016 78.4485 191.979 100 191.979C121.552 191.979 142.526 185.016 159.8 172.128C177.073 159.24 189.721 141.117 195.859 120.458C201.997 99.7988 201.296 77.7096 193.861 57.4811C186.426 37.2525 172.656 19.9671 154.6 8.2Z"
            fill="black"
          />
        </svg>
      </button>
    </div>
  </body>
</html>
